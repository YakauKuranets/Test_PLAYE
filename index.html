<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test_PLAYE</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- PWA manifest and theme color -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#151923" />
  </head>
  <body>
    <div class="app" id="app-root">
      <aside class="sidebar">
        <div class="sidebar__header">
          <h1>Test_PLAYE</h1>
          <label class="upload">
            <input type="file" id="file-input" accept="video/*" multiple />
            <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ</span>
          </label>
          <button id="compact-toggle" type="button" class="compact-toggle">–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º: –≤—ã–∫–ª</button>
          <!-- Online/offline indicator for hybrid mode -->
          <span id="mode-indicator" class="mode-indicator offline">üîå –û—Ñ—Ñ–ª–∞–π–Ω</span>

          <!-- Mode selector for hybrid operation -->
          <div class="mode-selector-container">
            <label for="mode-selector">–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:</label>
            <select id="mode-selector" class="mode-selector">
              <option value="auto" selected>üîÑ –ê–≤—Ç–æ (–ø–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏)</option>
              <option value="offline">üîå –¢–æ–ª—å–∫–æ –æ—Ñ—Ñ–ª–∞–π–Ω</option>
              <option value="online">üåê –¢–æ–ª—å–∫–æ –æ–Ω–ª–∞–π–Ω</option>
            </select>
          </div>

          <!-- Backend settings (hidden when in offline mode) -->
          <div id="backend-settings" class="backend-settings hidden">
            <label for="backend-url">Backend URL:</label>
            <input
              type="text"
              id="backend-url"
              class="backend-url-input"
              placeholder="http://localhost:8000/api"
              value="http://localhost:8000/api"
            />
            <button id="test-backend" class="btn-secondary">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</button>
            <span id="backend-status" class="backend-status"></span>
          </div>

        <!-- Model loading progress (hidden by default) -->
        <div id="model-progress-container" class="model-progress-container hidden">
          <label>–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏:</label>
          <div class="progress-bar">
            <div id="model-progress-bar" class="progress-bar-inner" style="width: 0%"></div>
          </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (‚öôÔ∏è) –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <button id="settings-btn" class="btn btn-icon" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>

        <!-- Model availability status -->
        <div id="model-availability" class="model-availability">
          <h3>–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–µ–π</h3>
          <ul id="model-status-list"></ul>
        </div>
        </div>
        <ul id="playlist" class="playlist"></ul>
      </aside>

      <!-- Notification container (mode changes, etc.) -->
      <div id="notifications" class="notifications"></div>

      <main class="main">
        <section class="viewer">
          <div class="viewer__surface" id="viewer-surface">
            <video id="video" controls playsinline></video>
            <canvas id="temporal-preview" class="temporal-preview"></canvas>
            <canvas id="ai-overlay" class="ai-overlay"></canvas>
            <div class="motion-indicator" id="motion-indicator">–î–≤–∏–∂–µ–Ω–∏–µ</div>
          </div>
          <p class="hint">
            –ö–æ–ª–µ—Å–∏–∫–æ –º—ã—à–∏ ‚Äî –º–∞—Å—à—Ç–∞–±; –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ ‚Äî —Å–±—Ä–æ—Å –º–∞—Å—à—Ç–∞–±–∞.
          </p>
        </section>

        <section class="controls">
          <details class="control-accordion" open>
            <summary>–¢–∞–π–º–ª–∞–π–Ω</summary>
            <div class="control-group timeline">
            <div class="timeline-header">
              <span id="timeline-current">0:00.000</span>
              <span id="timeline-duration">0:00.000</span>
            </div>
            <div class="timeline-bar">
              <div id="timeline-markers" class="timeline-markers"></div>
              <input
                type="range"
                id="timeline"
                min="0"
                max="0"
                step="0.01"
                value="0"
              />
            </div>
            <div class="timeline-controls">
              <button id="timeline-zoom-out" type="button">-</button>
              <span id="timeline-zoom-value">1.0x</span>
              <button id="timeline-zoom-in" type="button">+</button>
            </div>
            </div>
          </details>

          <details class="control-accordion" open>
            <summary>–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ</summary>
            <div class="control-group">
            <label>
              –°–∫–æ—Ä–æ—Å—Ç—å: <span id="speed-value">1x</span>
              <input
                type="range"
                id="speed"
                min="0.25"
                max="100"
                value="1"
                step="0.25"
              />
            </label>
            <div class="button-row">
              <button id="frame-back">–ö–∞–¥—Ä –Ω–∞–∑–∞–¥</button>
              <button id="frame-forward">–ö–∞–¥—Ä –≤–ø–µ—Ä–µ–¥</button>
              <button id="screenshot">–°–∫—Ä–∏–Ω—à–æ—Ç</button>
            </div>
            </div>
          </details>

          <details class="control-accordion">
            <summary>–ù–∞—Ä–µ–∑–∫–∞</summary>
            <div class="control-group">
            <div class="clip-row">
              <button id="mark-in">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å IN</button>
              <button id="mark-out">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OUT</button>
            </div>
            <div class="clip-range">
              <span>IN: <strong id="clip-in">‚Äî</strong></span>
              <span>OUT: <strong id="clip-out">‚Äî</strong></span>
            </div>
            <button id="export-clip">–≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—Ä–µ–∑–∫–∏</button>
            </div>
          </details>

          <details class="control-accordion">
            <summary>–ö–∞—á–µ—Å—Ç–≤–æ</summary>
            <div class="control-group">
            <label>
              –£–ª—É—á—à–µ–Ω–∏–µ (–∫–æ–Ω—Ç—Ä–∞—Å—Ç/—è—Ä–∫–æ—Å—Ç—å)
              <input
                type="range"
                id="enhance"
                min="0"
                max="100"
                value="0"
              />
            </label>
            <label>
              –≠–∫—Å–ø–æ–∑–∏—Ü–∏—è
              <input
                type="range"
                id="exposure"
                min="-50"
                max="50"
                value="0"
                step="1"
              />
            </label>
            <label>
              –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (—Ü–≤–µ—Ç)
              <input
                type="range"
                id="temperature"
                min="-50"
                max="50"
                value="0"
                step="1"
              />
            </label>
            <label>
              –®—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ (–º—è–≥–∫–æ—Å—Ç—å)
              <input
                type="range"
                id="denoise"
                min="0"
                max="10"
                value="0"
                step="0.5"
              />
            </label>
            <label class="toggle">
              <input type="checkbox" id="temporal-denoise" />
              Temporal —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ (demo)
            </label>
            <label>
              –û–∫–Ω–æ temporal (–∫–∞–¥—Ä—ã)
              <input
                type="range"
                id="temporal-window"
                min="1"
                max="6"
                value="3"
                step="1"
              />
            </label>
            <label>
              –ü—Ä–æ—Ñ–∏–ª—å —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏—è
              <select id="denoise-profile">
                <option value="light">–õ—ë–≥–∫–∏–π</option>
                <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                <option value="heavy">–°–∏–ª—å–Ω—ã–π</option>
              </select>
            </label>
            <label>
              –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è (clarity)
              <input
                type="range"
                id="clarity"
                min="0"
                max="100"
                value="0"
                step="1"
              />
            </label>
            <label>
              –†–µ–∑–∫–æ—Å—Ç—å (demo)
              <input
                type="range"
                id="sharpness"
                min="0"
                max="100"
                value="0"
                step="1"
              />
            </label>
            <label class="toggle">
              <input type="checkbox" id="lowlight-boost" />
              –£—Å–∏–ª–µ–Ω–∏–µ low-light
            </label>
            <label class="toggle">
              <input type="checkbox" id="upscale" />
              –ê–ø—Å–∫–µ–π–ª (—Ä–µ–∂–∏–º)
            </label>
            <label>
              –ê–ø—Å–∫–µ–π–ª —Ñ–∞–∫—Ç–æ—Ä
              <select id="upscale-factor">
                <option value="2" selected>2x</option>
                <option value="4">4x</option>
              </select>
            </label>
            <label class="toggle">
              <input type="checkbox" id="grayscale" />
              –ß/–ë —Ä–µ–∂–∏–º
            </label>
            <label class="toggle">
              <input type="checkbox" id="bypass-filters" />
              –û—Ä–∏–≥–∏–Ω–∞–ª –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤
            </label>
            <label class="toggle">
              <input type="checkbox" id="stabilization-toggle" />
              –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (–∫—Ä–æ–ø, –¥–µ–º–æ)
            </label>
            <label class="toggle">
              <input type="checkbox" id="stabilization-auto-toggle" />
              –ê–≤—Ç–æ-—Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (–∞–ª–≥–æ—Ä–∏—Ç–º, –¥–µ–º–æ)
            </label>
            <label>
              –°–∏–ª–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
              <input
                type="range"
                id="stabilization-strength"
                min="0"
                max="10"
                value="0"
                step="1"
              />
            </label>
            <label>
              –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
              <input
                type="range"
                id="stabilization-smoothing"
                min="0"
                max="100"
                value="60"
                step="5"
              />
            </label>
            <label>
              –°–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ X
              <input
                type="range"
                id="stabilization-offset-x"
                min="-50"
                max="50"
                value="0"
                step="1"
              />
            </label>
            <label>
              –°–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ Y
              <input
                type="range"
                id="stabilization-offset-y"
                min="-50"
                max="50"
                value="0"
                step="1"
              />
            </label>
            <div class="button-row">
              <button id="stabilization-profile-light" type="button">
                –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è Light
              </button>
              <button id="stabilization-profile-medium" type="button">
                –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è Medium
              </button>
              <button id="stabilization-profile-strong" type="button">
                –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è Strong
              </button>
            </div>
            <div class="button-row">
              <button id="preset-lowlight" type="button">–ü—Ä–æ—Ñ–∏–ª—å Low-light</button>
              <button id="preset-night" type="button">–ü—Ä–æ—Ñ–∏–ª—å –ù–æ—á—å</button>
              <button id="preset-detail" type="button">–ü—Ä–æ—Ñ–∏–ª—å –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è</button>
              <button id="preset-ultra-lowlight" type="button">
                –ü—Ä–æ—Ñ–∏–ª—å Ultra Low-light
              </button>
            </div>
            <button id="reset-filters" type="button">–°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤</button>
            </div>
          </details>

          <details class="control-accordion">
            <summary>–î–µ—Ç–µ–∫—Ç–æ—Ä –¥–≤–∏–∂–µ–Ω–∏—è</summary>
            <div class="control-group">
            <label class="toggle">
              <input type="checkbox" id="motion-marker-toggle" />
              –ê–≤—Ç–æ-–º–∞—Ä–∫–µ—Ä—ã –¥–≤–∏–∂–µ–Ω–∏—è
            </label>
            <label>
              –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞
              <input
                type="range"
                id="motion-sensitivity"
                min="200"
                max="2000"
                value="800"
                step="50"
              />
              <span class="range-value" id="motion-sensitivity-value">800</span>
            </label>
            <label>
              –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–∞—Ä–∫–µ—Ä–æ–≤ (—Å–µ–∫)
              <input
                type="range"
                id="motion-cooldown"
                min="1"
                max="10"
                value="3"
                step="1"
              />
              <span class="range-value" id="motion-cooldown-value">3</span>
            </label>
            <div class="button-row">
              <button id="motion-start">–°—Ç–∞—Ä—Ç</button>
              <button id="motion-stop" disabled>–°—Ç–æ–ø</button>
            </div>
            <p class="muted">
              –ë–∞–∑–æ–≤–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –ø–æ —Ä–∞–∑–Ω–∏—Ü–µ –∫–∞–¥—Ä–æ–≤ (–¥–µ–º–æ).
            </p>
            </div>
          </details>

          <details class="control-accordion">
            <summary>AI –∞–Ω–∞–ª–∏–∑ (–ª–∏—Ü–∞ –∏ –æ–±—ä–µ–∫—Ç—ã)</summary>
            <div class="control-group">
            <button id="ai-face-detect" type="button">
              –ù–∞–π—Ç–∏ –ª–∏—Ü–∞ (–¥–µ–º–æ)
            </button>
            <button id="ai-object-detect" type="button">
              –ù–∞–π—Ç–∏ –æ–±—ä–µ–∫—Ç—ã (–¥–µ–º–æ)
            </button>
            <label>
              AI runtime provider
              <select id="ai-provider-select">
                <option value="mock" selected>mock (demo)</option>
                <option value="tfjs">tfjs (coco-ssd)</option>
                <option value="onnx">onnx runtime</option>
                <option value="torch">torch runtime</option>
                <!-- New providers for Stage¬†2: local (offline) and cloud (online) modes -->
                <option value="local">off‚Äëline (–±—ã—Å—Ç—Ä–æ)</option>
                <option value="cloud">–æ–±–ª–∞–∫–æ (–º–∞–∫—Å–∏–º—É–º)</option>
              </select>
            </label>
            <div class="button-row">
              <button id="ai-capability-check" type="button">–ü—Ä–æ–≤–µ—Ä–∫–∞ AI/GPU capability</button>
            </div>
            <p class="muted" id="ai-capability-status">Capability: –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ.</p>
            <div class="button-row">
              <button id="ai-track-start" type="button">–°—Ç–∞—Ä—Ç —Ç—Ä–µ–∫–∏–Ω–≥–∞ (–¥–µ–º–æ)</button>
              <button id="ai-track-stop" type="button" disabled>–°—Ç–æ–ø —Ç—Ä–µ–∫–∏–Ω–≥–∞</button>
            </div>
            <label>
              AI Super-resolution —Ñ–∞–∫—Ç–æ—Ä
              <select id="ai-sr-factor">
                <option value="1.5">1.5x</option>
                <option value="2" selected>2x</option>
                <option value="4">4x</option>
              </select>
            </label>
            <div class="button-row">
              <button id="ai-sr-apply" type="button">AI Super-resolution (demo)</button>
              <button id="ai-sr-reset" type="button">–°–±—Ä–æ—Å AI SR</button>
            </div>
            <label>
              –ü–æ—Ä–æ–≥ –∞–≤—Ç–æ‚Äë—Å—Ü–µ–Ω (demo)
              <input type="range" id="ai-scene-threshold" min="10" max="80" value="28" step="1" />
            </label>
            <div class="button-row">
              <button id="ai-scenes-detect" type="button">–ê–≤—Ç–æ‚Äë—Å—Ü–µ–Ω—ã (demo)</button>
              <button id="ai-scenes-clear" type="button">–û—á–∏—Å—Ç–∏—Ç—å –∞–≤—Ç–æ‚Äë—Å—Ü–µ–Ω—ã</button>
            </div>
            <label class="toggle">
              <input type="checkbox" id="ai-face-marker-toggle" />
              –î–æ–±–∞–≤–ª—è—Ç—å –º–∞—Ä–∫–µ—Ä—ã –ª–∏—Ü
            </label>
            <label class="toggle">
              <input type="checkbox" id="ai-object-marker-toggle" />
              –î–æ–±–∞–≤–ª—è—Ç—å –º–∞—Ä–∫–µ—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤
            </label>
            <p class="muted" id="ai-status">–ì–æ—Ç–æ–≤ –∫ –∞–Ω–∞–ª–∏–∑—É.</p>
            <p class="muted">–õ–∏—Ü–∞:</p>
            <ul class="ai-face-list" id="ai-face-list"></ul>
            <p class="muted">–û–±—ä–µ–∫—Ç—ã:</p>
            <ul class="ai-face-list" id="ai-object-list"></ul>
            <p class="muted">–°—Ü–µ–Ω—ã (AI):</p>
            <ul class="ai-face-list" id="ai-scene-list"></ul>
            <!-- Stage¬†2: Offline AI tasks -->
            <p class="muted">AI —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ (–æ—Ñ—Ñ–ª–∞–π–Ω):</p>
            <div class="button-row">
              <button id="ai-face-enhance" type="button">–£–ª—É—á—à–∏—Ç—å –ª–∏—Ü–∞</button>
              <button id="ai-upscale-2x" type="button">–ê–ø—Å–∫–µ–π–ª 2x</button>
              <button id="ai-denoise" type="button">–î–µ–Ω–æ–π–∑</button>
            </div>
            <!-- Canvas to display AI-enhanced result. Initially hidden until first use -->
            <canvas id="ai-result-canvas" class="ai-result-canvas hidden"></canvas>
            <p class="muted" id="ai-model-status"></p>
            </div>
          </details>

          <!-- Backend task queue for Stage¬†3.  Displays pending/running/done tasks
               executed in the (mock) cloud backend.  Users can launch a demo
               task to see the queue in action. -->
          <details class="control-accordion">
            <summary>–û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á (–æ–±–ª–∞–∫–æ)</summary>
            <div class="control-group">
              <button id="backend-demo-task" type="button">–ó–∞–ø—É—Å—Ç–∏—Ç—å demo‚Äë–∑–∞–¥–∞—á—É</button>
              <ul id="backend-task-list" class="backend-task-list"></ul>
            </div>
          </details>

          <!-- Synchronisation controls for Stage¬†4.  Allow users to
               synchronise cases with a remote store and update local model
               versions to match the server.  The status text informs the
               user of the last sync operation. -->
          <details class="control-accordion">
            <summary>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</summary>
            <div class="control-group">
              <button id="sync-cases-btn" type="button">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ–ª–∞</button>
              <button id="update-models-btn" type="button">–û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏</button>
              <p id="sync-status" class="muted">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –µ—â—ë –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª–∞—Å—å.</p>
            </div>
          </details>

          <details class="control-accordion">
            <summary>–î–µ–ª–æ –∏ –∂—É—Ä–Ω–∞–ª</summary>
            <div class="control-group">
            <label>
              ID –¥–µ–ª–∞
              <input type="text" id="case-id" placeholder="CASE-2025-0001" />
            </label>
            <label>
              –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π
              <input type="text" id="case-owner" placeholder="–§–ò–û / –æ—Ç–¥–µ–ª" />
            </label>
            <label>
              –°—Ç–∞—Ç—É—Å –¥–µ–ª–∞
              <select id="case-status">
                <option value="active">–ê–∫—Ç–∏–≤–Ω–æ–µ</option>
                <option value="review">–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</option>
                <option value="closed">–ó–∞–∫—Ä—ã—Ç–æ</option>
              </select>
            </label>
            <label>
              –¢–µ–≥–∏ –¥–µ–ª–∞
              <input
                type="text"
                id="case-tags"
                placeholder="–∫–∞–º–µ—Ä–∞-01, –≤—Ö–æ–¥, –Ω–æ—á—å"
              />
            </label>
            <label>
              –û–ø–∏—Å–∞–Ω–∏–µ/—Å–≤–æ–¥–∫–∞
              <textarea
                id="case-summary"
                rows="3"
                placeholder="–ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ –¥–µ–ª—É –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è–º"
              ></textarea>
            </label>
            <div class="button-row">
              <button id="log-entry">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
              <button id="export-log">–≠–∫—Å–ø–æ—Ä—Ç –∂—É—Ä–Ω–∞–ª–∞</button>
              <button id="export-report">–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–∞</button>
              <button id="preview-report" type="button">
                –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á—ë—Ç–∞
              </button>
              <button id="export-ffmpeg-job" type="button">
                FFmpeg Job (3.1.2 draft)
              </button>
              <button id="download-ffmpeg-job" type="button">
                –≠–∫—Å–ø–æ—Ä—Ç FFmpeg Job JSON
              </button>
            </div>
            <label>
              FFmpeg Job preview
              <textarea
                id="ffmpeg-job-preview"
                rows="7"
                readonly
                class="ffmpeg-job-preview"
                placeholder="–ù–∞–∂–º–∏—Ç–µ FFmpeg Job (demo), —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ job draft"
              ></textarea>
            </label>
            <div class="button-row">
              <button id="queue-ffmpeg-job" type="button">–í –æ—á–µ—Ä–µ–¥—å pipeline (3.3.2)</button>
            </div>
            <p class="muted" id="pipeline-status">Pipeline: –∑–∞–¥–∞—á –Ω–µ—Ç.</p>
            <label>
              –ü—Ä–æ–≥—Ä–µ—Å—Å pipeline
              <progress id="pipeline-progress" max="100" value="0"></progress>
            </label>
            <p class="muted" id="pipeline-progress-label">0%</p>
            <ul id="pipeline-queue" class="log-list"></ul>
            <p class="muted" id="pipeline-error-title">–û—à–∏–±–∫–∏ pipeline:</p>
            <ul id="pipeline-errors" class="log-list"></ul>
            <ul id="log-list" class="log-list"></ul>
            </div>
          </details>

          <details class="control-accordion">
            <summary>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–µ–ª</summary>
            <div class="control-group">
            <label>
              –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–µ–ª–∞
              <select id="case-library"></select>
            </label>
            <label>
              –ü–æ–∏—Å–∫ –ø–æ –¥–µ–ª–∞–º
              <input
                type="text"
                id="case-search"
                placeholder="ID, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π, —Ç–µ–≥"
              />
            </label>
            <div class="button-row">
              <button id="case-save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–µ–ª–æ</button>
              <button id="case-load">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
              <button id="case-delete">–£–¥–∞–ª–∏—Ç—å</button>
              <button id="case-clear-search" type="button">–°–±—Ä–æ—Å –ø–æ–∏—Å–∫–∞</button>
            </div>
            <div class="button-row">
              <button id="case-export-library" type="button">
                –≠–∫—Å–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
              </button>
              <button id="case-import-library" type="button">
                –ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
              </button>
              <input
                id="case-import-input"
                type="file"
                accept="application/json"
                hidden
              />
            </div>
            <p class="muted" id="case-count"></p>
            <p class="muted">
              –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
            </p>
            </div>
          </details>

          <details class="control-accordion">
            <summary>–°–≤–æ–¥–∫–∞ –ø–æ –¥–µ–ª—É</summary>
            <div class="control-group">
            <div class="summary-grid">
              <div class="summary-card">
                <span class="summary-label">–§–∞–π–ª–æ–≤</span>
                <strong id="case-files-count">0</strong>
              </div>
              <div class="summary-card">
                <span class="summary-label">–ú–∞—Ä–∫–µ—Ä–æ–≤</span>
                <strong id="case-markers-count">0</strong>
              </div>
              <div class="summary-card">
                <span class="summary-label">–ó–∞–ø–∏—Å–µ–π –∂—É—Ä–Ω–∞–ª–∞</span>
                <strong id="case-logs-count">0</strong>
              </div>
            </div>
            <p class="muted">
              –°–≤–æ–¥–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–µ–ª–∞ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.
            </p>
            </div>
          </details>

          <details class="control-accordion">
            <summary>–ú–∞—Ä–∫–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π</summary>
            <div class="control-group">
            <label>
              –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
              <select id="marker-type">
                <option value="manual">–†—É—á–Ω–æ–π</option>
                <option value="movement">–î–≤–∏–∂–µ–Ω–∏–µ</option>
                <option value="face">–õ–∏—Ü–æ</option>
                <option value="object">–û–±—ä–µ–∫—Ç</option>
              </select>
            </label>
            <label>
              –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
              <input type="text" id="marker-note" placeholder="–û–ø–∏—à–∏—Ç–µ —Å–æ–±—ã—Ç–∏–µ" />
            </label>
            <div class="button-row">
              <button id="add-marker">–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä–∫–µ—Ä</button>
              <button id="export-markers">–≠–∫—Å–ø–æ—Ä—Ç –º–∞—Ä–∫–µ—Ä–æ–≤</button>
            </div>
            <ul id="marker-list" class="log-list"></ul>
            </div>
          </details>

          <!-- Hypothetical scenarios module (stub) -->
          <details class="control-accordion">
            <summary>–ì–∏–ø–æ—Ç–µ–∑—ã</summary>
            <div class="control-group">
            <p class="muted">
              –ú–æ–¥—É–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≥–∏–ø–æ—Ç–µ–∑ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ó–¥–µ—Å—å –≤—ã —Å–º–æ–∂–µ—Ç–µ
              –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ —É–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
              –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ü–æ–∫–∞
              –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∑–∞–≥–ª—É—à–∫–∏.
            </p>
            <label>
              –¢–∏–ø –≥–∏–ø–æ—Ç–µ–∑—ã
              <select id="hypothesis-type">
                <!-- –¢–∏–ø –≥–∏–ø–æ—Ç–µ–∑—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã. -->
                <option value="restore">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ</option>
                <option value="alternate">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∫–∞–¥—Ä—ã</option>
                <!-- –°—É–ø–µ—Ä‚Äë—Ä–µ–∑–æ–ª—é—Ü–∏—è —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∫–∞–¥—Ä–∞ –∏ –ø–æ–≤—ã—à–∞–µ—Ç —Ä–µ–∑–∫–æ—Å—Ç—å. -->
                <option value="superres">–°—É–ø–µ—Ä‚Äë—Ä–µ–∑–æ–ª—é—Ü–∏—è</option>
                <option value="3d">3D —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</option>
                <!-- –ù–æ–≤—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–∞ –∏ —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º—ã—Ç–∏—è -->
                <option value="denoise">–î–µ–Ω–æ–π–∑–∏–Ω–≥</option>
                <option value="deblur">–î–µ–±–ª—é—Ä–∏–Ω–≥</option>
                <!-- –î–µ—Ç–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å—Ç—Ä–æ–∏—Ç —Ä–∞–º–∫–∏ –≤–æ–∫—Ä—É–≥ –ª—é–¥–µ–π, –º–∞—à–∏–Ω –∏ –¥—Ä. -->
                <option value="detect">–î–µ—Ç–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</option>
              </select>
            </label>
            <label>
              –î–ª–∏–Ω–∞ –≥–∏–ø–æ—Ç–µ–∑—ã (—Å–µ–∫.)
              <input
                type="number"
                id="hypothesis-length"
                min="1"
                max="60"
                value="5"
              />
            </label>
            <div class="button-row">
              <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≥–∏–ø–æ—Ç–µ–∑—ã. –ü–æ–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–µ–º–æ‚Äë–≤–µ—Ä—Å–∏—è. -->
              <button id="hypothesis-generate" type="button">
                –°–æ–∑–¥–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É
              </button>
            </div>
            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∏–ø–∞. -->
            <progress id="hypothesis-progress" max="100" value="0" style="width: 100%; display: none;"></progress>
            <!-- –°—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è –≥–∏–ø–æ—Ç–µ–∑. –ó–¥–µ—Å—å –≤—ã–≤–æ–¥—è—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ö–æ–¥–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. -->
            <p class="muted" id="hypothesis-status"></p>
            </div>
          </details>

    <!-- –°–µ–∫—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–æ/–ø–æ—Å–ª–µ. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Ç—å –¥–≤–∞ —Ñ–∞–π–ª–∞ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞
         –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∏—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è. -->
    <details class="control-accordion">
      <summary>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ</summary>
      <div class="control-group">
        <p class="muted">–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –∏ –≥–∏–ø–æ—Ç–µ–∑—É –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.</p>
        <label>
          –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª
          <select id="compare-file-a"></select>
        </label>
        <label>
          –ì–∏–ø–æ—Ç–µ–∑–∞
          <select id="compare-file-b"></select>
        </label>
        <div class="button-row">
          <button id="compare-start" type="button">–ü–æ–∫–∞–∑–∞—Ç—å</button>
        </div>
        <div id="compare-container" class="compare-container hidden">
          <div style="display:flex; gap: 8px; width: 100%;">
            <video id="compare-video-a" controls style="flex:1; max-height: 240px;"></video>
            <video id="compare-video-b" controls style="flex:1; max-height: 240px;"></video>
          </div>
        </div>
      </div>
    </details>
        </section>
      </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div id="settings-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
          <button class="modal-close" id="settings-close">√ó</button>
        </div>
        <!-- –í–∫–ª–∞–¥–∫–∏ -->
        <div class="modal-tabs">
          <button class="tab-btn active" data-tab="models">–ú–æ–¥–µ–ª–∏</button>
          <button class="tab-btn" data-tab="general">–û–±—â–∏–µ</button>
        </div>
        <!-- –í–∫–ª–∞–¥–∫–∞ –ú–æ–¥–µ–ª–∏ -->
        <div class="tab-content active" id="models-tab">
          <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ AI</h3>
          <p class="hint">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–µ</p>
          <div id="models-list"></div>
          <div id="desktop-update-status" class="hint"></div>
          <div id="desktop-updates-list" class="desktop-updates-list"></div>
          <div class="modal-actions">
            <button id="check-updates-btn" class="btn btn-secondary">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</button>
            <button id="apply-updates-btn" class="btn btn-primary" disabled>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</button>
          </div>
        </div>
        <!-- –í–∫–ª–∞–¥–∫–∞ –û–±—â–∏–µ -->
        <div class="tab-content" id="general-tab" style="display: none;">
          <h3>–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
          <div class="setting-group">
            <label>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:</label>
            <select id="router-mode">
              <option value="auto">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</option>
              <option value="offline">–¢–æ–ª—å–∫–æ –æ—Ñ—Ñ–ª–∞–π–Ω</option>
              <option value="online">–¢–æ–ª—å–∫–æ –æ–Ω–ª–∞–π–Ω</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    </div>
    <canvas id="capture" class="hidden"></canvas>
    <script type="module" src="src/main.js"></script>

    <!--
      –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω
      –≠—Ç–æ—Ç –æ–≤–µ—Ä–ª–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
      –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä –∏–ª–∏ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ñ–æ—Ç–æ.
      –ö–Ω–æ–ø–∫–∞ —à–µ—Å—Ç–µ—Ä—ë–Ω–∫–∏ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π.
    -->
    <div id="start-overlay" class="start-overlay">
      <div class="start-content">
        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h1>
        <p class="muted">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:</p>
        <div class="start-buttons">
          <button id="start-video" type="button">–í–∏–¥–µ–æ–ø–ª–µ–µ—Ä</button>
          <button id="start-photo" type="button">–†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ñ–æ—Ç–æ</button>
        <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Ä–µ–∂–∏–º—É 3D —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ -->
        <button id="start-3d" type="button">3D —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</button>
        </div>
      </div>
      <button id="gear-button" class="gear-button" type="button">
        <!-- –ò—Å–ø–æ–ª—å–∑—É–µ–º unicode —Å–∏–º–≤–æ–ª —à–µ—Å—Ç–µ—Ä—ë–Ω–∫–∏, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –∏–∫–æ–Ω–æ–∫ -->
        ‚öô
      </button>
      <div id="model-menu" class="model-menu hidden">
        <h2>–ú–æ–¥–µ–ª–∏</h2>
        <p class="muted">–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å.</p>
        <ul id="model-list" class="model-list">
          <li><strong>superres:</strong> –°—É–ø–µ—Ä‚Äë—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (2√ó —É–≤–µ–ª–∏—á–µ–Ω–∏–µ)</li>
          <li><strong>superres2x:</strong> –°—É–ø–µ—Ä‚Äë—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (2√ó, —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)</li>
          <!-- –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –≤—Ä—É—á–Ω—É—é -->
        </ul>
        <label class="upload-model">
          <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å</span>
          <input type="file" id="model-upload-input" accept=".onnx,.json" />
        </label>

        <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã. –ü–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
             (—Å–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è). –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è —Ç–µ–º–∞ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –≤ localStorage. -->
        <button id="theme-toggle" type="button" style="margin-top: 0.75rem;">–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É</button>
      </div>
    </div>

    <!--
      –û–≤–µ—Ä–ª–µ–π —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Ñ–æ—Ç–æ
      –ó–¥–µ—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à—É—é —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é. –ü–æ–∫–∞ —á—Ç–æ
      —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π; –≤ –±—É–¥—É—â–µ–º —Å—é–¥–∞ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å 3D‚Äë–º–æ–¥–µ–ª–∏.
    -->
    <div id="photo-overlay" class="photo-overlay hidden">
      <div class="photo-content">
        <h1>–†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ñ–æ—Ç–æ</h1>
        <p class="muted">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –¥–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.</p>
        <input type="file" id="photo-input" accept="image/*" multiple />
        <div class="button-row" style="margin-top: 0.5rem; gap: 0.5rem;">
          <button id="photo-start" type="button">–†–µ–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞—Ç—å</button>
          <!-- –≠–∫—Å–ø–æ—Ä—Ç —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å) -->
          <button id="photo-export" type="button">–≠–∫—Å–ø–æ—Ä—Ç</button>
          <!-- –ò–º–ø–æ—Ä—Ç —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–∑ JSON -->
          <button id="photo-import-btn" type="button">–ò–º–ø–æ—Ä—Ç</button>
          <input type="file" id="photo-import-input" accept="application/json" hidden />
          <button id="photo-back" type="button">–ù–∞–∑–∞–¥</button>
        </div>
        <canvas id="photo-canvas" class="photo-canvas" width="0" height="0"></canvas>
        <p class="muted" id="photo-status"></p>
      </div>
    </div>

    <!--
      –û–≤–µ—Ä–ª–µ–π 3D —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
      –≠—Ç–æ—Ç –æ–≤–µ—Ä–ª–µ–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –∫–∞—Ä—Ç—É –≥–ª—É–±–∏–Ω—ã, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
      point cloud –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é 3D –º–æ–¥–µ–ª—å.  –û–Ω —Å–∫—Ä—ã—Ç –ø–æ
      —É–º–æ–ª—á–∞–Ω–∏—é –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ –º–µ–Ω—é.
    -->
    <div id="recon3d-overlay" class="recon3d-overlay hidden">
      <div class="photo-content">
        <h1>3D —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h1>
        <p class="muted">–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –≥–ª—É–±–∏–Ω—ã (–º–æ–Ω–æ—Ö—Ä–æ–º–Ω–æ–µ –∏–ª–∏ RGB)</p>
        <input type="file" id="recon3d-input" accept="image/*" />
        <div class="button-row" style="margin-top: 0.5rem; gap: 0.5rem;">
          <button id="recon3d-export" type="button">–≠–∫—Å–ø–æ—Ä—Ç point cloud</button>
          <button id="recon3d-3d-preview" type="button">3D Preview</button>
          <button id="recon3d-back" type="button">–ù–∞–∑–∞–¥</button>
        </div>
        <canvas id="recon3d-canvas" class="photo-canvas" width="0" height="0"></canvas>
        <div id="recon3d-view3d" class="recon3d-view3d"></div>
        <p class="muted" id="recon3d-status"></p>
      </div>
    </div>
  </body>
</html>
